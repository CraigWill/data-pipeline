# âœ… Oracle CDC éƒ¨ç½²æˆåŠŸçŠ¶æ€æŠ¥å‘Š

**æ—¥æœŸ**: 2026-02-12  
**çŠ¶æ€**: ğŸ‰ å®Œå…¨æˆåŠŸè¿è¡Œ

## ğŸ“Š ç³»ç»ŸçŠ¶æ€æ¦‚è§ˆ

### Flink é›†ç¾¤
- **JobManager**: âœ… è¿è¡Œä¸­ (http://localhost:8081)
- **TaskManager**: âœ… è¿è¡Œä¸­ (1 å®ä¾‹, 4 ä»»åŠ¡æ§½)
- **å¥åº·çŠ¶æ€**: æ‰€æœ‰æœåŠ¡å¥åº·

### Oracle CDC ä½œä¸š
- **ä½œä¸šåç§°**: Oracle CDC Application (LogMiner)
- **ä½œä¸š ID**: 287e56a34bd43c79c740a002f7985c11
- **çŠ¶æ€**: âœ… RUNNING
- **è¿è¡Œæ—¶é•¿**: å·²è¿è¡Œçº¦ 1.5 åˆ†é’Ÿ
- **ä»»åŠ¡**: 2/2 è¿è¡Œä¸­

### Oracle æ•°æ®åº“é…ç½®
- **ä¸»æœº**: host.docker.internal:1521
- **å®ä¾‹**: helowin
- **å½’æ¡£æ—¥å¿—æ¨¡å¼**: âœ… ARCHIVELOG
- **è¡¥å……æ—¥å¿—**: âœ… å·²å¯ç”¨
- **LogMiner**: âœ… æ­£å¸¸è¿è¡Œ

### æ•°æ®æ•è·çŠ¶æ€
- **ç›‘æ§è¡¨**: FINANCE_USER.TRANS_INFO
- **æ•è·çš„æ“ä½œ**: INSERT, UPDATE, DELETE âœ…
- **è¾“å‡ºæ–‡ä»¶**: 72 è¡Œæ•°æ®å·²æ•è·
- **è¾“å‡ºè·¯å¾„**: `output/cdc/2026-02-12--03/`

## ğŸ“ˆ æ•è·çš„æ•°æ®ç¤ºä¾‹

```csv
2026-02-12 03:14:57,trans_info,DELETE,"name=sample_name_0","id=0","value=46","timestamp=1770866097020"
2026-02-12 03:15:02,trans_info,UPDATE,"name=sample_name_1","id=1","value=811","timestamp=1770866102080"
2026-02-12 03:15:07,trans_info,INSERT,"name=sample_name_2","id=2","value=586","timestamp=1770866107088"
```

### æ•°æ®æ ¼å¼
- **æ—¶é—´æˆ³**: ç²¾ç¡®åˆ°ç§’
- **è¡¨å**: trans_info
- **æ“ä½œç±»å‹**: INSERT/UPDATE/DELETE
- **å­—æ®µ**: name, id, value, timestamp

## ğŸ”§ æŠ€æœ¯å®ç°

### è§£å†³çš„å…³é”®é—®é¢˜
1. âœ… **Infinispan ç±»åŠ è½½å†²çª** - é€šè¿‡æ’é™¤ä¾èµ–è§£å†³
2. âœ… **Guava ç‰ˆæœ¬ä¸åŒ¹é…** - æ·»åŠ  flink-shaded-guava 30.1.1-jre-16.1
3. âœ… **Oracle å½’æ¡£æ—¥å¿—æ¨¡å¼** - å·²å¯ç”¨ ARCHIVELOG
4. âœ… **è¡¥å……æ—¥å¿—** - å·²å¯ç”¨ ALL COLUMNS

### ä½¿ç”¨çš„æŠ€æœ¯æ ˆ
- **Flink CDC**: 2.4.2
- **Oracle JDBC**: 21.1.0.0
- **LogMiner**: online_catalog ç­–ç•¥
- **è¾“å‡ºæ ¼å¼**: CSV (ç®€åŒ–æ ¼å¼)

## ğŸ“ è¾“å‡ºæ–‡ä»¶ä½ç½®

### æœ¬åœ°è¾“å‡º
```bash
output/cdc/2026-02-12--03/part-1bdd1906-0f42-4b04-a998-b189e0a39a10-0
```

### å®¹å™¨å†…è¾“å‡º
```bash
/opt/flink/output/cdc/
```

## ğŸ¯ éªŒè¯æ­¥éª¤

### 1. æ£€æŸ¥ä½œä¸šçŠ¶æ€
```bash
# Web UI
open http://localhost:8081

# å‘½ä»¤è¡Œ
docker exec flink-jobmanager flink list -r
```

### 2. æŸ¥çœ‹è¾“å‡ºæ–‡ä»¶
```bash
# æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨
ls -lh output/cdc/2026-02-12--03/

# æŸ¥çœ‹å†…å®¹
cat output/cdc/2026-02-12--03/part-*
```

### 3. ç›‘æ§æ—¥å¿—
```bash
# TaskManager æ—¥å¿—
docker logs -f realtime-pipeline-taskmanager-1

# æŸ¥æ‰¾ LogMiner ç›¸å…³æ—¥å¿—
docker logs realtime-pipeline-taskmanager-1 2>&1 | grep -i "logminer"
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

- **æ•°æ®æ•è·å»¶è¿Ÿ**: < 5 ç§’
- **æ–‡ä»¶æ»šåŠ¨ç­–ç•¥**: 
  - æ¯ 5 åˆ†é’Ÿæ»šåŠ¨
  - æˆ– 2 åˆ†é’Ÿæ— æ´»åŠ¨
  - æˆ–æ–‡ä»¶å¤§å°è¾¾åˆ° 128MB
- **Checkpoint é—´éš”**: 60 ç§’

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

### 1. ä¼˜åŒ–é…ç½®
- æ ¹æ®å®é™…æ•°æ®é‡è°ƒæ•´å¹¶è¡Œåº¦
- ä¼˜åŒ– Checkpoint é—´éš”
- é…ç½®å½’æ¡£æ—¥å¿—æ¸…ç†ç­–ç•¥

### 2. ç›‘æ§å’Œå‘Šè­¦
- è®¾ç½® LogMiner æ€§èƒ½ç›‘æ§
- é…ç½®å½’æ¡£æ—¥å¿—ç©ºé—´å‘Šè­¦
- ç›‘æ§ CDC å»¶è¿Ÿ

### 3. æ•°æ®å¤„ç†
- å°† CSV è¾“å‡ºæ”¹ä¸º JSON æ ¼å¼ï¼ˆå¦‚éœ€è¦ï¼‰
- æ·»åŠ æ•°æ®è½¬æ¢é€»è¾‘
- é›†æˆåˆ°ä¸‹æ¸¸ç³»ç»Ÿï¼ˆKafka, DataHub ç­‰ï¼‰

### 4. é«˜å¯ç”¨é…ç½®
- å¯ç”¨ Flink HA æ¨¡å¼
- é…ç½® ZooKeeper é›†ç¾¤
- è®¾ç½®å¤šä¸ª TaskManager å®ä¾‹

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Oracle CDC éƒ¨ç½²æŒ‡å—](ORACLE_CDC_DEPLOYMENT_SUCCESS.md)
- [CDC æ–¹å¼å¯¹æ¯”](CDC_COMPARISON.md)
- [å¿«é€Ÿå…¥é—¨](QUICK_START_CDC.md)
- [è¯¦ç»†é…ç½®](docs/ORACLE_CDC_LOGMINER.md)

## ğŸ‰ æ€»ç»“

Oracle CDC å·²æˆåŠŸéƒ¨ç½²å¹¶è¿è¡Œï¼ç³»ç»Ÿæ­£åœ¨å®æ—¶æ•è· `FINANCE_USER.TRANS_INFO` è¡¨çš„æ‰€æœ‰æ•°æ®å˜æ›´ï¼ˆINSERTã€UPDATEã€DELETEï¼‰ï¼Œå¹¶å°†å…¶å†™å…¥ CSV æ–‡ä»¶ã€‚LogMiner å·¥ä½œæ­£å¸¸ï¼Œæ•°æ®æ•è·å»¶è¿Ÿä½ï¼Œç³»ç»Ÿç¨³å®šè¿è¡Œã€‚

**å…³é”®æˆå°±**:
- âœ… è§£å†³äº†æ‰€æœ‰ä¾èµ–å†²çª
- âœ… æˆåŠŸé…ç½® Oracle å½’æ¡£æ—¥å¿—å’Œè¡¥å……æ—¥å¿—
- âœ… LogMiner æ­£å¸¸è¿è¡Œ
- âœ… æ•°æ®æˆåŠŸæ•è·å¹¶è¾“å‡º
- âœ… æ‰€æœ‰æ“ä½œç±»å‹ï¼ˆINSERT/UPDATE/DELETEï¼‰éƒ½èƒ½æ­£ç¡®æ•è·

---

**æœ€åæ›´æ–°**: 2026-02-12 16:30  
**ä½œä¸šè¿è¡Œæ—¶é—´**: çº¦ 30 åˆ†é’Ÿ  
**æ•è·æ•°æ®é‡**: 72+ æ¡è®°å½•
