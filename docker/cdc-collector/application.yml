# CDC Collector Configuration
# 需求: 10.1, 10.5, 10.6, 10.7, 10.8 - 配置管理

# 数据库配置（需求 1.1-1.7）
database:
  host: ${DATABASE_HOST:localhost}
  port: ${DATABASE_PORT:2881}
  username: ${DATABASE_USERNAME:root}
  password: ${DATABASE_PASSWORD:password}
  schema: ${DATABASE_SCHEMA:test}
  tables: ${DATABASE_TABLES:*}
  serverTimezone: ${DATABASE_TIMEZONE:UTC}

# DataHub配置（需求 1.4, 1.5）
datahub:
  endpoint: ${DATAHUB_ENDPOINT:https://datahub.aliyuncs.com}
  accessId: ${DATAHUB_ACCESS_ID:}
  accessKey: ${DATAHUB_ACCESS_KEY:}
  project: ${DATAHUB_PROJECT:realtime-pipeline}
  topic: ${DATAHUB_TOPIC:cdc-events}
  
# 重试配置（需求 1.5）
retry:
  maxAttempts: ${RETRY_MAX_ATTEMPTS:3}
  backoffMs: ${RETRY_BACKOFF_MS:2000}

# 连接配置（需求 1.6, 1.7）
connection:
  keepAliveIntervalMs: ${CONNECTION_KEEPALIVE_MS:30000}
  reconnectIntervalMs: ${CONNECTION_RECONNECT_MS:30000}
  connectionTimeoutMs: ${CONNECTION_TIMEOUT_MS:60000}

# CDC采集配置
cdc:
  captureTimeoutMs: ${CDC_CAPTURE_TIMEOUT_MS:5000}
  batchSize: ${CDC_BATCH_SIZE:100}
  flushIntervalMs: ${CDC_FLUSH_INTERVAL_MS:1000}

# 监控配置（需求 7.8）
monitoring:
  enabled: ${MONITORING_ENABLED:true}
  port: ${MONITORING_PORT:8080}
  healthCheckPath: ${HEALTH_CHECK_PATH:/health}

# 日志配置
logging:
  level: ${LOG_LEVEL:INFO}
  file: ${LOG_FILE:/opt/cdc-collector/logs/cdc-collector.log}
